html { font-size: 14px; }

@media (min-width: 768px) {
    html { font-size: 16px; }
}

.btn:focus, .btn:active:focus, .btn-link.nav-link:focus, .form-control:focus, .form-check-input:focus { box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb; }

html {
    min-height: 100%;
    position: relative;
}

body { margin-bottom: 60px; }

.footer {
    bottom: 0;
    line-height: 60px;
    position: absolute;
    white-space: nowrap;
    width: 100%;
}

/* Theme toggle button styling */

#theme-toggle { transition: all 0.3s ease; }

#theme-toggle:hover { transform: scale(1.05); }

#theme-icon {
    font-size: 1rem;
    transition: transform 0.3s ease;
}

/* Selective transitions - exclude elements that need hover effects */

body, .navbar, .footer { transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; }

/* Device card styles - preserve original hover effects */

.device-card { transition: transform 0.2s, box-shadow 0.2s; }

.device-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}

/* Dark mode device card hover adjustments */

[data-bs-theme="dark"] .device-card:hover { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); }

/* Chart container and other card styles */

.chart-container {
    height: 150px;
    position: relative;
}

.current-power {
    font-weight: bold;
    margin-bottom: 0;
}

.badge { font-size: 0.75em; }

.card-header {
    background-color: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
}

/* Dark mode card header */

[data-bs-theme="dark"] .card-header {
    background-color: var(--bs-dark);
    border-bottom-color: var(--bs-border-color-translucent);
}

.compact-card { max-height: 300px; }

.compact-card .card-header { font-size: 0.9rem; }

.compact-card .card-body { font-size: 0.85rem; }

/* Ensure navbar adapts to theme */

[data-bs-theme="dark"] .navbar-light {
    --bs-navbar-color: rgba(255, 255, 255, 0.55);
    --bs-navbar-hover-color: rgba(255, 255, 255, 0.75);
    --bs-navbar-active-color: #fff;
    --bs-navbar-brand-color: #fff;
    --bs-navbar-brand-hover-color: #fff;
    background-color: var(--bs-dark) !important;
    border-color: var(--bs-border-color-translucent) !important;
}

[data-bs-theme="dark"] .navbar-light .navbar-nav .nav-link { color: rgba(255, 255, 255, 0.75) !important; }

[data-bs-theme="dark"] .navbar-light .navbar-nav .nav-link:hover { color: #fff !important; }

/* Fix navbar brand color in dark mode */

[data-bs-theme="dark"] .navbar-brand { color: #fff !important; }

[data-bs-theme="dark"] .navbar-brand:hover { color: rgba(255, 255, 255, 0.9) !important; }

/* Footer styling for dark mode */

[data-bs-theme="dark"] .footer {
    background-color: var(--bs-dark);
    border-color: var(--bs-border-color-translucent) !important;
}

/* Footer links in dark mode */

[data-bs-theme="dark"] .footer a { color: var(--bs-link-color) !important; }

[data-bs-theme="dark"] .footer a:hover { color: var(--bs-link-hover-color) !important; }

/* Body background for smooth transitions */

body {
    background-color: var(--bs-body-bg);
    color: var(--bs-body-color);
}

/* Ensure buttons and links work properly in dark mode */

[data-bs-theme="dark"] .btn-primary {
    --bs-btn-color: #fff;
    --bs-btn-bg: #0d6efd;
    --bs-btn-border-color: #0d6efd;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #0b5ed7;
    --bs-btn-hover-border-color: #0a58ca;
}

[data-bs-theme="dark"] .btn-info {
    --bs-btn-color: #000;
    --bs-btn-bg: #0dcaf0;
    --bs-btn-border-color: #0dcaf0;
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: #31d2f2;
    --bs-btn-hover-border-color: #25cff2;
}

[data-bs-theme="dark"] .btn-danger {
    --bs-btn-color: #fff;
    --bs-btn-bg: #dc3545;
    --bs-btn-border-color: #dc3545;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #bb2d3b;
    --bs-btn-hover-border-color: #b02a37;
}

[data-bs-theme="dark"] .btn-outline-secondary {
    --bs-btn-color: #adb5bd;
    --bs-btn-border-color: #adb5bd;
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: #adb5bd;
    --bs-btn-hover-border-color: #adb5bd;
}

/* Ensure alert styling works in dark mode */

[data-bs-theme="dark"] .alert-info {
    --bs-alert-color: #055160;
    --bs-alert-bg: #d1ecf1;
    --bs-alert-border-color: #b8daff;
}

[data-bs-theme="dark"] .alert-success {
    --bs-alert-color: #0f5132;
    --bs-alert-bg: #d1e7dd;
    --bs-alert-border-color: #badbcc;
}

/* Table styling for dark mode */

[data-bs-theme="dark"] .table {
    --bs-table-bg: var(--bs-body-bg);
    --bs-table-color: var(--bs-body-color);
}

/* Fix general link colors in dark mode */

[data-bs-theme="dark"] a { color: #6ea8fe !important; }

[data-bs-theme="dark"] a:hover { color: #9ec5fe !important; }

/* Make sure button links are still properly styled */

[data-bs-theme="dark"] .btn { color: var(--bs-btn-color) !important; }

/* Toast enhancements */
.toast {
    animation: slideInRight 0.3s ease-out;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.toast.hide {
    animation: slideOutRight 0.3s ease-out;
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}